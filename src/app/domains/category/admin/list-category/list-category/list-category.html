<section>
    <div>
        <div class="table-operations">
            <!-- <nz-input-group [nzSuffix]="suffixIconSearch">
                <input [(ngModel)]="searchValue" type="text" nz-input placeholder="Search staff... " />
            </nz-input-group>
            <ng-template #suffixIconSearch>
                <span nz-icon nzType="search"></span>
            </ng-template> -->
            <!-- <button nz-button nzType="default" (click)="onSearch()">
        <span nz-icon nzType="search"></span>
        Search
      </button> -->
            <!-- @if (setList$ | async; as set) {
        } -->
            <!-- <button
        class="action-button"
        nzDanger
        nz-button
        nzType="primary"
        routerLinkActive
        (click)="onAdd()"
      >
        Add
      </button> -->
            <button class="action-button" nz-button nzType="primary" (click)="onAdd()">
                Add
            </button>
        </div>
    </div>
    <div class="enterprise-table-wrapper">
        @if (data$ | async; as table) {
        <nz-table #borderedTable [nzData]="table" [nzFrontPagination]="true" [nzPageSize]="10" nzSize="middle"
            [nzScroll]="{ x: '800px' }">
            <thead>
                <tr>
                    <th nzLeft nzWidth="70px" nzAlign="center">Sn.</th>
                    <th nzWidth="120px" nzAlign="center">Preview</th>
                    <th nzLeft nzWidth="300px">Category Name</th>
                    <th nzWidth="150px" nzAlign="center">Status</th>
                    <th nzRight nzWidth="120px" nzAlign="center">Actions</th>
                </tr>
            </thead>
            <tbody>
                @for (item of borderedTable.data; track item.categoryId; let i = $index) {
                <tr class="enterprise-row">
                    <td nzLeft nzAlign="center" class="num-mono text-muted">
                        {{ (borderedTable.nzPageIndex - 1) * borderedTable.nzPageSize + (i + 1) }}
                    </td>

                    <td nzAlign="center">
                        <div class="category-img-frame">
                            <img nz-image [nzSrc]="item.path" alt="Category" class="category-thumb">
                        </div>
                    </td>

                    <td nzLeft class="sticky-col-main">
                        {{ item.name | titlecase }}
                    </td>

                    <td nzAlign="center">
                        <nz-tag [nzColor]="item.hasActive ? 'success' : 'error'" class="status-pill">
                            {{ item.hasActive ? 'Active' : 'Inactive' }}
                        </nz-tag>
                    </td>

                    <td nzRight nzAlign="center">
                        <div class="action-bundle">
                            <button nz-button nzType="text" (click)="onEdit(item.categoryId)" nz-tooltip
                                nzTooltipTitle="Edit Category">
                                <span nz-icon nzType="edit" class="edit-icon"></span>
                            </button>
                        </div>
                    </td>
                </tr>
                }
            </tbody>
        </nz-table>
        }
    </div>
</section>