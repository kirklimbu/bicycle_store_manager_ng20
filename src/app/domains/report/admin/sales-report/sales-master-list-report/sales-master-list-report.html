<!-- <nz-breadcrumb [nzAutoGenerate]="true"></nz-breadcrumb> -->
<div class="table-container">
    <div class="site-page-header-ghost-wrapper">
        <nz-page-header nzTitle="Sales Master  Report" [nzGhost]="false">
            <nz-page-header-extra>
                <!-- <app-table-operations key="sakes-filter" [fields]="[
    { name: 'fromDate', label: 'From Date (B.S)', type: 'date', required: true },
    { name: 'toDate', label: 'To Date (B.S)', type: 'date', required: true },
    
  ]" (filterChange)="onFilterChange($event)" /> -->
                <lib-table-operations [showSelector1]="true" [selector1Label]="'Pay Type'" [selector1Key]="'payType'"
                    [selector1Options]="manualSelectorOptions" [showAddButton]="false" [isLocalSearch]="false"
                    [showSearch]="false" [showFromDate]="true" [showToDate]="true"
                    [defaultFromDate]="initialFilters().fromDate" [defaultToDate]="initialFilters().toDate"
                    [showSearchButton]="true" [showSecondaryButton]="isCustomerMode()"
                    [showTertiaryButton]="isCustomerMode()" [secondaryButtonLabel]="'item'"
                    [tertiaryButtonLabel]="'item Return'" (search)="onSearch($event)" (secondaryButtonClick)="onSales()"
                    (tertiaryButtonClick)="onSalesReturn()" />
            </nz-page-header-extra>

        </nz-page-header>
    </div>
    <div class="enterprise-table-wrapper">
        @if(data$|async;as data ){
        <nz-table [nzFrontPagination]="false" #nzTable [nzBordered]="false" [nzData]="data" [nzScroll]="{ x: '900px' }">
            <thead>
                <tr>
                    <th nzWidth="50px" nzAlign="center">#</th>
                    <th nzAlign="right" nzWidth="120px">Bill No</th>
                    <th nzAlign="right" nzWidth="120px">Date</th>
                    <th nzAlign="right" nzWidth="120px">Customer</th>

                    <th nzAlign="right" nzWidth="140px">Net Amount</th>
                    <th nzAlign="right" nzWidth="100px">Pay Type</th>
                    <th nzWidth="80px" nzRight nzAlign="center">Action</th>

                </tr>
            </thead>
            <tbody>
                @for (item of nzTable.data; track item.itemMasterId; let i = $index) {

                <tr class="enterprise-row">
                    <td nzAlign="center">
                        {{ (nzTable.nzPageIndex - 1) * nzTable.nzPageSize + (i + 1) }}
                    </td>
                    <td style="font-weight: 600; color: #1890ff;" nzAlign="center">{{item.billNo}}</td>
                    <td nzAlign="right">{{item.saveDate | nepaliDateFormatter}}</td>
                    <td class="text-muted" nzAlign="right">{{ item.customerName |titlecase }}</td>

                    <td nzAlign="right">{{ item.netAmt |number }}</td>
                    <td nzAlign="right">
                        <span class="status-tag" [class.credit]="item.payType === 'Credit'">{{ item.payType }}</span>

                    </td>
                    <td nzAlign="center" nzRight>
                        <lib-table-action-buttons [showEditButton]="false" [showDeleteButton]="false"
                            [showButton4]="false" [showViewMoreButton]="true" (delete)="onDelete(item.itemMasterId)"
                            (viewMore)="onViewMore(item.itemMasterId)" />
                    </td>
                </tr>
                }
            </tbody>
        </nz-table>
        }

    </div>
</div>