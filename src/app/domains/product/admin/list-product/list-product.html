<section>
    <div>
        <div class="table-operations">
            <!-- <nz-input-group [nzSuffix]="suffixIconSearch">
                <input [(ngModel)]="searchValue" type="text" nz-input placeholder="Search staff... " />
            </nz-input-group>
            <ng-template #suffixIconSearch>
                <span nz-icon nzType="search"></span>
            </ng-template> -->
            <!-- <button nz-button nzType="default" (click)="onSearch()">
        <span nz-icon nzType="search"></span>
        Search
      </button> -->
            <!-- @if (setList$ | async; as set) {
        } -->
            <!-- <button
        class="action-button"
        nzDanger
        nz-button
        nzType="primary"
        routerLinkActive
        (click)="onAdd()"
      >
        Add
      </button> -->
            <button class="action-button" nz-button nzType="primary" (click)="onAdd()">
                Add
            </button>
        </div>
    </div>
    <div class="enterprise-table-wrapper">
        @if (data$ | async; as table) {
        <nz-table #borderedTable [nzData]="table" [nzFrontPagination]="true" [nzBordered]="false" nzSize="middle"
            [nzTitle]="headerTemplate" [nzScroll]="{ x: '800px' }">
            <thead>
                <tr>
                    <th nzLeft nzWidth="60px" nzAlign="center">Sn.</th>
                    <th nzWidth="100px" nzAlign="center">Photo</th>
                    <th nzLeft nzWidth="250px">Product Name</th>
                    <th nzWidth="120px" nzAlign="center">Status</th>
                    <th nzRight nzWidth="100px" nzAlign="center">Action</th>
                </tr>
            </thead>
            <tbody>
                @for (data of borderedTable.data; track data.productId; let i = $index) {
                <tr class="enterprise-row">
                    <td nzLeft nzAlign="center" class="num-mono text-muted">
                        {{ (borderedTable.nzPageIndex - 1) * borderedTable.nzPageSize + (i + 1) }}
                    </td>
                    <td nzAlign="center">
                        <div class="product-img-container">
                            <img nz-image [nzSrc]="data.path" alt="Product Image" class="product-thumb">
                        </div>
                    </td>
                    <td nzLeft class="sticky-col-main">
                        {{ data.name | titlecase }}
                    </td>
                    <td nzAlign="center">
                        <span class="status-dot" [class.active]="data.hasActive"></span>
                        <nz-tag [nzColor]="data.hasActive ? 'success' : 'error'" class="status-tag">
                            {{ data.hasActive ? 'Active' : 'Inactive' }}
                        </nz-tag>
                    </td>
                    <td nzRight nzAlign="center">
                        <div class="action-bundle">
                            <button nz-button nzType="text" nzShape="circle" (click)="onEdit(data.productId)" nz-tooltip
                                nzTooltipTitle="Edit Product">
                                <span nz-icon nzType="edit" class="edit-icon"></span>
                            </button>
                        </div>
                    </td>
                </tr>
                }
            </tbody>
        </nz-table>
        }

        <ng-template #headerTemplate>
            <div class="table-header-ui">
                <span class="title">Total Items in Inventory: </span>
                <span class="count">{{ (data$ | async)?.length || 0 }} </span>
            </div>
        </ng-template>
    </div>
</section>